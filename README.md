# Media Upload System

A modern media upload system built with Next.js, Supabase, and Cloudinary. This application allows users to upload and manage images and videos with lazy loading support.

## Features

- ğŸ–¼ï¸ Image and video upload support
- ğŸ“± Responsive design
- âš¡ Lazy loading for videos
- ğŸ”„ Real-time media list updates
- ğŸ¯ TypeScript support
- ğŸ¨ Modern UI with Tailwind CSS

## Tech Stack

- **Frontend**: Next.js 14, React, TypeScript
- **Styling**: Tailwind CSS
- **Storage**: Cloudinary (media storage)
- **Database**: Supabase (metadata storage)
- **Authentication**: Supabase Auth

## Prerequisites

- Node.js 18+ installed
- Supabase account
- Cloudinary account

## Environment Variables

Create a `.env.local` file in the root directory with the following variables:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Cloudinary
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_upload_preset
```

## Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd <repository-name>
```

2. Install dependencies:
```bash
npm install
```

3. Set up Supabase:
   - Create a new project in Supabase
   - Create a `media` table with the following SQL:

```sql
create table media (
  id bigint generated by default as identity primary key,
  title text not null,
  type text not null check (type in ('image', 'video')),
  cloudinary_url text not null,
  cloudinary_public_id text not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Enable RLS
alter table media enable row level security;

-- Create policy to allow all operations
create policy "Allow all operations" on media
  for all
  using (true)
  with check (true);
```

4. Set up Cloudinary:
   - Create a new project in Cloudinary
   - Create an upload preset
   - Configure your environment variables

## Development

Run the development server:

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

## Project Structure

```
src/
â”œâ”€â”€ app/                 # Next.js app directory
â”‚   â”œâ”€â”€ page.tsx        # Main page component
â”‚   â””â”€â”€ layout.tsx      # Root layout
â”œâ”€â”€ components/         # React components
â”‚   â””â”€â”€ LazyVideo.tsx  # Lazy loading video component
â””â”€â”€ utils/             # Utility functions
    â”œâ”€â”€ cloudinary.ts  # Cloudinary upload functions
    â””â”€â”€ supabase.ts    # Supabase database functions
```

## Features in Detail

### Media Upload
- Supports both image and video files
- Automatic file type detection
- Progress indication during upload
- Error handling and validation

### Lazy Loading
- Videos only load when they enter the viewport
- Loading placeholder while video loads
- Optimized performance for large media lists

### Responsive Design
- Grid layout adapts to screen size
- Mobile-friendly interface
- Consistent spacing and typography

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
